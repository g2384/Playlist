<!doctype html>
<html><head><title>UK Official Chart TOP 40</title><style>
body{max-width: 800px; margin:0 auto;}iframe, object, embed {max-width: 100%;}
</style><body><div class=center><span id=ver></span><br>
<br />
<div id="iplayer"><iframe width="640" height="390" name="frame1" frameborder="0" type="text/html" src=""></iframe></div><br>
<button type="button" onclick="Prev()">Prev</button>
<button type="button" onclick="Next()">Next</button><br>
<input type="text" id="new" value="SHE LOOKS SO PERFECT#I GOT U#CHANGES#MY LOVE#ALL OF ME#HAPPY#WIZARD#RATHER BE#DARK HORSE#TSUNAMI (JUMP)#I'M A FREAK#MONEY ON MY MIND#SELFIE#ADDICTED TO YOU#LOYAL#HUMAN#SAY SOMETHING#WORD UP#COUNTING STARS#MAGIC#DR WHO#RED LIGHTS#TIMBER#READY FOR YOUR LOVE#HOW I FEEL#LET IT GO#FEELIN' MYSELF#NA NA#HEY BROTHER#CRYING FOR NO REASON#DRUNK IN LOVE#IF I COULD CHANGE YOUR MIND#HOW LONG WILL I LOVE YOU#BEST DAY OF MY LIFE#STAY THE NIGHT#TRUMPETS#HEY NOW#CAN'T REMEMBER TO FORGET YOU#AIR BALLOON" />
<button type="button" onclick="LoadNew()">Load</button>
value="SONG TITLE#SONG TITLE" //capital letters, splitted by #
</div></body>
<script src="http://www.youtube.com/player_api"></script>
<script src="list.js"></script>
<script>
var new_ver = "March 23, 2014";
var new_list = document.getElementById("new").value.split("#");

var i = 0,
    l = new_list.length;
var cur = [];
// create youtube player
var player;

function onYouTubePlayerAPIReady() {
    document.getElementById("ver").innerHTML = "Last Chart Update: " + new_ver;
    loadVideo();
    player = new YT.Player('iplayer', {
        height: '390',
        width: '640',
        videoId: cur[i],
        events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
        }
    });
}

function onPlayerReady(event) {
    event.target.playVideo(); // autoplay video
}

function onPlayerStateChange(event) {
    if (event.data === 0) {
        i++;
        if (i == l) {
            i = 0;
        }
        player.loadVideoById(cur[i], 0);
    }
}

function Next() {
    i++;
    if (i == l) {
        i = 0;
    }
    player.loadVideoById(cur[i], 0);
}

function Prev() {
    i--;
    if (i < 0) {
        i = 0;
    }
    player.loadVideoById(cur[i], 0);
}

function LoadNew() {
    var string = document.getElementById("new").value;
    new_list = string.split("#");
    l = new_list.length;
    loadVideo();
}

function loadVideo() {
    for (var o = 0; o < new_list.length; o++) {
        for (var p = 0; p < list_name.length; p++) {
            if (new_list[o] == list_name[p]) {
                cur[o] = list[p];
                p = list_name.length + 1;
            }
        }
        if (p == list_name.length) {
			console.log(new_list[o]);
        }
    }
}
</script></html>
